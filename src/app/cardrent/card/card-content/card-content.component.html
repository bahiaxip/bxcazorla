<div class="card_rent" (click)="selectCard(rent)" *ngFor="let rent of cardrentdata;let i=index">				
	<div class="subcard" >
		<div class="card_image ">	
		<!-- main image -->
<!-- es necesario asignar el largo de los cards que existen por defecto 
	para sustituir por el número directo en el ngIf de <img> -->
			<div class="w100 div_cardimg" style="" >				
				<img class="cardimg" [src]="'assets/images/'+rent.images[0]" alt="Apartamentos Martín" style=" " *ngIf="i<5"/>
				<img class="cardimg" mat-card-image [src]="'http://localhost:3900/images/'+rent._id+'/'+rent.images[0]" alt="{{rent.images[0]}}" style=" " *ngIf="i>=5"/>
			<!--
				<div class="link_images left" (click)="selectOptionCard('images',rent)">
					<span class="material-icons" style="font-size:20px;color:lightgreen">map</span>
				</div>
			-->
				<div class="link_images right" (click)="selectOptionCard('images',rent)">
					<span class="material-icons" style="font-size:20px;color:lightgreen">photo_library</span>
					
				</div>

			</div>
		</div >
			
		<div class="d_flex card_content">
		<!-- central -->
			<div class="w100 t_center" >
		
		<!-- icon delete -->
				<mat-icon class="banner_icon  mr5 floatR" title="Eliminar" (click)="selectOptionCard('delete',rent)">delete</mat-icon>
		<!-- icon info -->
				<mat-icon class="banner_icon  mr10 floatL" title="Información" (click)="selectOptionCard('info',rent)">info</mat-icon>

		<!-- title/subtitle -->
				<div class="title_renting">
				<!-- title -->
					<p class="title_renting_text">
						{{rent.title}}
					</p>
				<!-- subtitle -->
					<div class="subtitle_renting " style="display:flex;justify-content:center" *ngIf="rent.type.length > 0">
					<!-- icons subtitle -->
						<div class="icon_circle_double" >
							<span class="material-icons-round" *ngFor="let type of rent.type;let i=index">
								  {{type | iconType}}
							</span>

							<!--<span class="material-icons-round">
								holiday_village
							</span>-->
						</div>
					<!-- text subtitle -->
						<p class="subtitle_renting_text" *ngIf="rent.type.length<3">

							<span *ngFor="let type of rent.type;let i=index">
								<span *ngIf="i!=0 ">/</span>
								{{type}}
							</span>
						</p>
					</div>
				</div>

				<div class="content_renting" >
					<div class="w100 d_flex">
					<!-- phone -->
						<div class="w50 d_flex link " (click)="selectOptionCard('phone',rent)">
							<div class="w50 mauto div_icon_hidden">
								<span class="material-icons-round m10_auto  icon_circle " >
									settings_phone
								</span>
							</div>

							<div class="w50 mauto div_visible">
								<!--<p class="mauto">{{rent.phone}}</p>-->
								<p class="mauto">Contacto</p>
							</div>
						</div>
					<!-- location -->
						<div class="w50 d_flex link" (click)="selectOptionCard('location',rent)">
							<div class="w50 mauto div_icon_hidden">
								<span class="material-icons-round m10_auto c_orange icon_circle " >
									location_on
								</span>
							</div>
							<div class="w50 mauto div_visible">
								<p class="mauto">Ubicación</p>
								<!--<p class="mauto">{{rent.numLevelLocation | levelPipe}}</p>-->
								<!--<pre-divlevel2 [levelLocation]="rent.numLevelLocation" ></pre-divlevel2>-->
								
							</div>
						</div>
					</div>

					<div class="w100 d_flex">
					<!-- feedback -->
						<div class="w50 d_flex link" (click)="selectOptionCard('feedback',rent)">
							<div class="w50 div_icon_hidden">
								<span class="material-icons-round icon_circle m10_auto" >
									star
								</span>
							</div>

							<div class="w50 mauto div_visible" >
								<p class="mauto">Valoraciones</p>
								<!--<p class="mauto">Valoraciones</p>-->
								<!--<pre-divlevel [numLevelFeedback]="rent.numLevelFeedback"></pre-divlevel>-->
							</div>
						</div>
					<!-- capacity -->
						<div class="w50 d_flex link" (click)="selectOptionCard('capacity',rent)">
							<div class="w50 div_icon_hidden ">
								<span class="material-icons-round m10_auto c_orange icon_circle" >
									group
								</span>
							</div>
							<div class="w50 mauto div_visible">
								<p class="mauto"> Capacidad</p>
							</div>
						</div>
					</div>

					<div class="price">
					<!-- price -->
						<div class="w30 div_price_item">
							<span class="price_item">{{selectedPrice[i]}}€</span>
						</div>
						
					<!-- selection nights/persons -->
						<div class="w70 price_detail"  style="display:flex">
						<!-- anulado
							<div style="width:10%;display:block;position:relative" >
								<div class="w100">
									<mat-icon class="material-icons" style="font-size:20px;width: 100%;height:20px;display:flex;justify-content: center;vertical-align:middle;margin-top:10px">home</mat-icon>
									<div style="width: 100%;display:flex;justify-content:center">
										<mat-icon class="material-icons-round" style="font-size:15px;bottom:0px;position:absolute;width:100%;display:flex;justify-content:center;align-content:start;height:15px">expand_more</mat-icon>
									</div>
								</div>
							</div>

							<div class="w100" style="height:100%;max-height:200px">

							</div>
						-->
						<!-- select persons -->
							<div class="w50 persons"  >
								<div class="w100 selected" style="" (click)="editPrice(1,i)">
								<!-- tipo -->
									<div class="div_type" style="">
										<span class="span_type" style="">
										<!-- icono -->
											<span class="material-icons type" style="">
												{{rent.capacities[indSelPson[i]].type|iconType}}
											</span>&nbsp;
										<!-- tipo -->
											{{rent.capacities[indSelPson[i]].type}}

										</span>
									</div>

									<p>{{rent.capacities[indSelPson[i]].capacity}} {{rent.capacities[indSelPson[i]].capacity|minimrent:'capacity'}}
									<!--<span class="fsize_10">(Mínimo {{rent.minNight}} noches)</span>-->
									</p>									
									<span class="expand" *ngIf="rent.capacities.length>1">
										<span class="material-icons" [ngClass]="{'turned':menu1Active[i] }">
											expand_more
										</span>
									</span>
								</div>
								<!-- menu -->
								<div class="menu" [ngStyle]="menu1Active[i] ? {'height':'100%'}:{'height':'0'}">

									<div class="selected"  [ngStyle]="menu1Active[i] ? {'max-height':'300px'}:{'max-height':'0'}" >
										<div *ngFor="let person of rent.capacities; let j=index" class="div_option" (click)="editPrice(1,i,j)">
											<div style="display:flex;justify-content:center" *ngIf="indSelPson[i] != j">

												<div class="option">
													<span class="span_type">
													<!-- icono -->
														<span class="material-icons type" style="">
															{{person.type|iconType}}
														</span>&nbsp;
													<!-- tipo -->
														{{person.type}}

													</span>
												</div>

												<p>{{person.capacity}} {{person.capacity|minimrent:'capacity'}}
													<!--<span class="fsize_10">(Mínimo {{rent.minNight}} noches)</span>-->
												</p>
											</div>
										</div>
										
									</div>
								</div>
							</div>

						<!-- selection nights -->
							<div class="w50 nights" >
								<div class="w100 selected" style="" (click)="editPrice(2,i)">
									
									<div class="first" style="">
										<p>{{selectedNights[i]}} {{selectedNights[i]|minimrent:'night'}}
										<!--<span class="fsize_10">(Mínimo {{rent.minNight}} noches)</span>-->
										</p>
										<span class="expand" >
											<span class="material-icons" [ngClass]="{'turned':menu2Active[i] }">
												expand_more
											</span>
									</span>
									</div>
								</div>
								
								<!-- menu -->
								<div class="menu" style="" [ngStyle]="menu2Active[i] ? {'height':'100%'}:{'height':'0'}">

									<div class="selected" style="" [ngStyle]="menu2Active[i] ? {'height':'300px'}:{'height':'0'}" >
										<div class="div_option" *ngFor="let nights of listNights[i]; let j=index" style="" (click)="editPrice(2,i,nights)">
											<div style="" *ngIf="selectedNights[i] != nights">
												<p>{{nights}} {{rent.capacities[0].minNights|minimrent:'night'}}
												<!--<span class="fsize_10">(Mínimo {{rent.minNight}} noches)</span>-->
												</p>
											</div>
										</div>
								</div>
							</div>
						</div>
					</div>

				</div>			
			</div>
		</div>
	</div>
</div>
